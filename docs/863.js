"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[863],{9863:(T,l,o)=>{o.r(l),o.d(l,{InsightsModule:()=>b});var r=o(6610),d=o(6075),t=o(2978),u=o(6169),m=o(9562),c=o(8845),D=o(6864),n=o(643),y=o(2221),f=o(7153);function p(a,h){if(1&a&&t.nrm(0,"apx-chart",25),2&a){const e=t.XpG();t.Y8G("series",e.dailyDetectionTrends.series)("chart",e.dailyDetectionTrends.chart)("xaxis",e.dailyDetectionTrends.xaxis)("dataLabels",e.dailyDetectionTrends.dataLabels)("grid",e.dailyDetectionTrends.grid)("stroke",e.dailyDetectionTrends.stroke)("title",e.dailyDetectionTrends.title)("fill",e.dailyDetectionTrends.fill)}}function g(a,h){if(1&a&&t.nrm(0,"apx-chart",26),2&a){const e=t.XpG();t.Y8G("series",e.hourlyDetectionrateChart.series)("chart",e.hourlyDetectionrateChart.chart)("dataLabels",e.hourlyDetectionrateChart.dataLabels)("plotOptions",e.hourlyDetectionrateChart.plotOptions)("xaxis",e.hourlyDetectionrateChart.xaxis)("stroke",e.hourlyDetectionrateChart.stroke)("fill",e.hourlyDetectionrateChart.fill)}}function v(a,h){1&a&&t.nrm(0,"app-loader")}const C=[{path:"",children:[{path:"",component:(()=>{class a{constructor(e,s){this.reportsService=e,this.msgHandelService=s,this.loading=!1,this.cardData={total_detection:0,avg_detection_time:"60 min",last_detection:"1 hour ago"},this.dailyDetectionTrends={series:[{name:"Daily Detection Trends",data:[0,0,0,0]}],xaxis:{categories:[0,0,0,0]},chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:300,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:2,colors:["#19a463"]},fill:{colors:["#19a463","#19a463","#19a463"],type:"solid",opacity:.1},markers:{size:0},tooltip:{}},this.hourlyDetectionrateChart={series:[{name:"Elephant Detection",data:[]}],xaxis:{categories:[]},chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#19a463",toolbar:{show:!1},height:300,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:2},fill:{colors:["#19a463"],type:"solid",opacity:.05},markers:{size:0},tooltip:{theme:"dark",x:{show:!1}}}}ngOnInit(){this.getChartData()}ngAfterViewInit(){}getChartData(){this.loading=!0,this.reportsService.getAllAnalysis("limit=10&page=1&column=0&order=desc").subscribe(e=>{e.status&&(console.log("response",e),this.cardData={total_detection:e?.data?.data?.totalDetectedCount,avg_detection_time:e?.data?.data?.avgTimeDifference,last_detection:e?.data?.data?.lastDetection},this.setDailyDetectionTrends(e),this.setHourlyDetectionrateChart(e)),this.loading=!1},e=>{this.loading=!1,this.msgHandelService.handleError(e)})}setDailyDetectionTrends(e){this.dailyDetectionTrends={series:[{name:"Daily Detections",data:e?.data?.data?.dailyDetectionCount?.detectionCounts}],xaxis:{categories:e?.data?.data?.dailyDetectionCount?.dates.map(s=>this.convertDateToDefaultFormat(s))},chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:300,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:2,colors:["#19a463"]},fill:{colors:["#19a463","#19a463","#19a463"],type:"solid",opacity:.1},markers:{size:0},tooltip:{theme:"dark",x:{show:!1}}}}setHourlyDetectionrateChart(e){console.log("hours",e?.data?.data),console.log("detectionCounts",e?.data?.data?.hourlyDetections?.detectionCounts),this.hourlyDetectionrateChart=JSON.parse(JSON.stringify({series:[{name:"Hourly Detection",data:e?.data?.data?.hourlyDetections?.detectionCounts}],xaxis:{categories:e?.data?.data?.hourlyDetections?.hours},fill:{colors:["#19a463","#19a463","#19a463"],type:"solid",opacity:.7},chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#19a463",toolbar:{show:!1},height:300,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:2,colors:["#19a463","#19a463","#19a463"]},markers:{size:0},tooltip:{theme:"dark",x:{show:!1}}}))}convertDateToDefaultFormat(e){return new Date(e).toISOString().split("T")[0]}static{this.\u0275fac=function(s){return new(s||a)(t.rXU(u.P),t.rXU(m.D))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-insights-view"]],decls:66,vars:9,consts:[[1,"cardWithShadow"],[1,"main"],[1,"row","mb-3"],[1,"col-md-3","col-sm-6","m-t-15","ml-0"],[1,"cardWithShadow","mb-0"],[1,""],[1,"f-s-14"],[1,"row","mt-1"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","small-text"],[1,"m-0"],["mat-fab","","color","accent",1,"shadow-none","icon-48"],["name","calculator",1,"text-white","d-flex"],["mat-fab","","color","primary",1,"shadow-none","icon-48"],["name","clock-hour-4",1,"text-white","d-flex"],["mat-fab","","color","warn",1,"shadow-none","icon-48"],["name","clock-record",1,"text-white","d-flex"],["name","tool",1,"text-white","d-flex"],[1,"row","mt-4"],[1,"col-6","mb-5"],[1,"mb-3"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title","fill",4,"ngIf"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","xaxis","stroke","fill",4,"ngIf"],[4,"ngIf"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title","fill"],[3,"series","chart","dataLabels","plotOptions","xaxis","stroke","fill"]],template:function(s,i){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-content")(2,"mat-card-title"),t.EFF(3,"System Detection Insights"),t.k0s(),t.j41(4,"div",1)(5,"div",2)(6,"div",3)(7,"mat-card",4)(8,"mat-card-content",5)(9,"mat-card-title",6),t.EFF(10,"Total Detections"),t.k0s(),t.j41(11,"div",7)(12,"div",8)(13,"div",9)(14,"p",10),t.EFF(15),t.nI1(16,"number"),t.k0s(),t.j41(17,"button",11),t.nrm(18,"i-tabler",12),t.k0s()()()()()()(),t.j41(19,"div",3)(20,"mat-card",4)(21,"mat-card-content",5)(22,"mat-card-title",6),t.EFF(23,"Avg Detection Time"),t.k0s(),t.j41(24,"div",7)(25,"div",8)(26,"div",9)(27,"p",10),t.EFF(28),t.k0s(),t.j41(29,"button",13),t.nrm(30,"i-tabler",14),t.k0s()()()()()()(),t.j41(31,"div",3)(32,"mat-card",4)(33,"mat-card-content",5)(34,"mat-card-title",6),t.EFF(35,"Last Detection"),t.k0s(),t.j41(36,"div",7)(37,"div",8)(38,"div",9)(39,"p",10),t.EFF(40),t.k0s(),t.j41(41,"button",15),t.nrm(42,"i-tabler",16),t.k0s()()()()()()(),t.j41(43,"div",3)(44,"mat-card",4)(45,"mat-card-content",5)(46,"mat-card-title",6),t.EFF(47,"System Status "),t.k0s(),t.j41(48,"div",7)(49,"div",8)(50,"div",9)(51,"p",10),t.EFF(52,"Active"),t.k0s(),t.j41(53,"button",13),t.nrm(54,"i-tabler",17),t.k0s()()()()()()()(),t.j41(55,"div",18)(56,"div",19)(57,"mat-card-title",20),t.EFF(58,"Daily Detection Trends"),t.k0s(),t.DNE(59,p,1,8,"apx-chart",21),t.k0s(),t.j41(60,"div",19)(61,"mat-card-title",20),t.EFF(62,"Hourly Detection"),t.k0s(),t.j41(63,"div",22),t.DNE(64,g,1,7,"apx-chart",23),t.k0s()()()()()(),t.DNE(65,v,1,0,"app-loader",24)),2&s&&(t.R7$(15),t.SpI(" ",t.i5U(16,6,i.cardData.total_detection,"1.0-0")," "),t.R7$(13),t.JRh(i.cardData.avg_detection_time),t.R7$(12),t.JRh(i.cardData.last_detection),t.R7$(19),t.Y8G("ngIf",(null==i.dailyDetectionTrends||null==i.dailyDetectionTrends.series||null==i.dailyDetectionTrends.series.data?null:i.dailyDetectionTrends.series.data.length)||(null==i.dailyDetectionTrends||null==i.dailyDetectionTrends.xaxis||null==i.dailyDetectionTrends.xaxis.categories?null:i.dailyDetectionTrends.xaxis.categories.length)),t.R7$(5),t.Y8G("ngIf",(null==i.hourlyDetectionrateChart||null==i.hourlyDetectionrateChart.series||null==i.hourlyDetectionrateChart.series.data?null:i.hourlyDetectionrateChart.series.data.length)||(null==i.hourlyDetectionrateChart||null==i.hourlyDetectionrateChart.xaxis||null==i.hourlyDetectionrateChart.xaxis.categories?null:i.hourlyDetectionrateChart.xaxis.categories.length)),t.R7$(1),t.Y8G("ngIf",i.loading))},dependencies:[r.bT,c.Q,D.V,n.RN,n.m2,n.dh,y.Sr,f.Jc,r.QX]})}}return a})()}]}];let k=(()=>{class a{static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(C),d.iI]})}}return a})();var x=o(1626);let b=(()=>{class a{static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[r.MD,k,c.J,x.G]})}}return a})()}}]);