"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[158],{8158:(M,d,i)=>{i.r(d),i.d(d,{ReportsModule:()=>A});var r=i(6610),m=i(6075),p=i(1987),t=i(2978),v=i(6169),c=i(643),u=i(2221),g=i(6864);function h(n,a){1&n&&(t.qex(0),t.j41(1,"div",20),t.nrm(2,"i",22),t.j41(3,"span",13),t.EFF(4," Detected "),t.k0s()(),t.bVm())}function R(n,a){1&n&&(t.qex(0),t.j41(1,"div",20),t.nrm(2,"i",23),t.j41(3,"span",13),t.EFF(4," Not Detected "),t.k0s()(),t.bVm())}function _(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",null==e?null:e.Temperature," C ")}}function F(n,a){1&n&&(t.qex(0),t.EFF(1," 0 C "),t.bVm())}function x(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",null==e?null:e.Humidity," ")}}function E(n,a){1&n&&(t.qex(0),t.EFF(1," - "),t.bVm())}function j(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",e["Lux Level"]," ")}}function V(n,a){1&n&&(t.qex(0),t.EFF(1," - "),t.bVm())}function C(n,a){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"div",20)(3,"div",8)(4,"h6",21),t.EFF(5),t.nI1(6,"date"),t.k0s()()()(),t.j41(7,"td")(8,"h6",21),t.DNE(9,h,5,0,"ng-container",4),t.DNE(10,R,5,0,"ng-container",4),t.k0s()(),t.j41(11,"td")(12,"h6",21),t.DNE(13,_,2,1,"ng-container",4),t.DNE(14,F,2,0,"ng-container",4),t.k0s()(),t.j41(15,"td")(16,"h6",21),t.DNE(17,x,2,1,"ng-container",4),t.DNE(18,E,2,0,"ng-container",4),t.k0s()(),t.j41(19,"td")(20,"h6",21),t.DNE(21,j,2,1,"ng-container",4),t.DNE(22,V,2,0,"ng-container",4),t.k0s()()()),2&n){const e=a.$implicit;t.R7$(5),t.SpI(" ",t.i5U(6,9,null==e?null:e.Timestamp,"dd/MM/yy HH:mm:ss")," "),t.R7$(4),t.Y8G("ngIf","True"==(null==e?null:e.Status)),t.R7$(1),t.Y8G("ngIf","True"!=(null==e?null:e.Status)),t.R7$(3),t.Y8G("ngIf",null==e?null:e.Temperature),t.R7$(1),t.Y8G("ngIf",!(null!=e&&e.Temperature)),t.R7$(3),t.Y8G("ngIf",null==e?null:e.Humidity),t.R7$(1),t.Y8G("ngIf",!(null!=e&&e.Humidity)),t.R7$(3),t.Y8G("ngIf",e["Lux Level"]),t.R7$(1),t.Y8G("ngIf",!e["Lux Level"])}}function I(n,a){if(1&n&&(t.j41(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th",18),t.EFF(5,"Date"),t.k0s(),t.j41(6,"th",18),t.EFF(7,"Status"),t.k0s(),t.j41(8,"th",18),t.EFF(9,"Temperature"),t.k0s(),t.j41(10,"th",18),t.EFF(11,"Humidity"),t.k0s(),t.j41(12,"th",18),t.EFF(13,"lux level"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,C,23,12,"tr",19),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(15),t.Y8G("ngForOf",e.dataList)}}function T(n,a){1&n&&(t.j41(0,"div",24),t.nrm(1,"i",25),t.j41(2,"div",26),t.EFF(3,"No Data"),t.k0s()())}function G(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"mat-card",6)(2,"mat-card-content",7)(3,"div",8)(4,"div",0)(5,"div",9)(6,"mat-card-title"),t.EFF(7,"Detection Report"),t.k0s()(),t.j41(8,"div",10)(9,"button",11),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.downloadReport())}),t.nrm(10,"i",12),t.j41(11,"span",13),t.EFF(12," download report "),t.k0s()()()()(),t.DNE(13,I,16,1,"div",14),t.DNE(14,T,4,0,"div",15),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(13),t.Y8G("ngIf",null==e.dataList?null:e.dataList.length),t.R7$(1),t.Y8G("ngIf",!(null!=e.dataList&&e.dataList.length))}}function D(n,a){1&n&&t.nrm(0,"app-loader")}const $=[{path:"",children:[{path:"",component:(()=>{class n{constructor(e){this.reportsService=e,this.isFirstTime=!0,this.perPage=p.k.PER_PAGE,this.pageNo=p.k.PAGE_NO,this.loading=!1,this.dataList=[],this.totalItems=0}ngOnInit(){this.getAll()}copyToClipBoard(e,o){}onPageChanged(e){}getAll(){this.loading=!0,this.reportsService.getAllReportData("limit=10&page=1&column=0&order=desc").subscribe(e=>{this.loading=!1,e?.data?.data?.length&&(this.dataList=e?.data?.data.slice(0,20),this.totalItems=this.dataList?.length)},e=>{this.loading=!1})}downloadReport(){const e=this.convertToCSV(this.dataList),o=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(o),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download","report.csv"),l.click(),window.URL.revokeObjectURL(s)}convertToCSV(e){const o=Object.keys(e[0]),s=e.map(l=>{const X={...l,Status:l.Status?"Elephant Not Detected":"Elephant Detected"};return o.map(H=>X[H]).join(",")});return[o.join(","),...s].join("\n")}search(){}reset(){}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(v.P))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-reports-view"]],decls:6,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"row","col-12","d-flex","m-0"],["class","col-lg-12 mt-30",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12","mt-30"],[1,"cardWithShadow"],[1,"p-24"],[1,""],[1,"col-7"],[1,"col-5","d-flex"],["type","submit","mat-flat-button","","color","primary",1,"ml-auto","d-flex","align-items-center",3,"click"],[1,"fas","fa-download"],[1,"ml-2"],["class","table-responsive mt-4",4,"ngIf"],["class","no-data-comp",4,"ngIf"],[1,"table-responsive","mt-4"],[1,"w-100","table-borderless","mt-3"],[1,"mat-subtitle-1"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"mat-subtitle-1","f-s-14","f-w-700"],[1,"fas","fa-circle","text-success","font-0-8"],[1,"fas","fa-circle","text-red","font-0-8"],[1,"no-data-comp"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mb-1","font-2-8","text-grey"],[1,"font-weight-bold","text-grey"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2),t.DNE(4,G,15,2,"div",3),t.k0s()()(),t.DNE(5,D,1,0,"app-loader",4),t.k0s()),2&o&&(t.R7$(4),t.Y8G("ngIf",!0),t.R7$(1),t.Y8G("ngIf",s.loading))},dependencies:[r.Sq,r.bT,c.RN,c.m2,c.dh,u.$z,g.V,r.vh]})}}return n})()}]}];let b=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild($),m.iI]})}}return n})();var f=i(7222),w=i(6182),y=i(1184),N=i(847),L=i(7153),k=i(8845),S=i(3700),Y=i(1626);let A=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[r.MD,b,r.MD,S.G,f.YN,f.X1,u.Hl,y.Cn,w.m_,L.X4,c.Hu,k.J,N.tP,Y.G]})}}return n})()}}]);