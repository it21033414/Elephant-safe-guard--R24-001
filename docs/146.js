"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[146],{9146:(b,f,s)=>{s.r(f),s.d(f,{SubscribedUsersModule:()=>O});var l=s(6610),u=s(6075),c=s(1987),a=s(7222),p=s(4053),d=s(5706),F=s(3836),t=s(2978),r=s(5006),E=s(9562),S=s(6864),v=s(2073),U=s(4587),y=s(2221);function C(i,m){1&i&&(t.j41(0,"mat-error"),t.EFF(1,"Name is required"),t.k0s())}function I(i,m){1&i&&(t.j41(0,"mat-error"),t.EFF(1,"Valid email is required"),t.k0s())}function j(i,m){1&i&&(t.j41(0,"mat-error"),t.EFF(1,"company name is required"),t.k0s())}function M(i,m){1&i&&t.nrm(0,"app-loader")}let T=(()=>{class i{constructor(e,o,n,h,L,Y){this.dialogRef=e,this.parentData=o,this.dialog=n,this.notifyUsersService=h,this._FormBuilder=L,this.msgHandelService=Y,this.loading=!1}ngOnInit(){console.log("parentData",this.parentData),this.rForm=this._FormBuilder.group({name:[null,a.k0.compose([a.k0.required])],email:[null,a.k0.compose([a.k0.required,a.k0.pattern(d.$1)])],company:[null,a.k0.compose([a.k0.required])]})}closeModel(){this.dialog.open(F.w,{width:"30vw",data:{title:"Please Confirm",msg:"Do you want to discard changes?"},panelClass:"confirmation-dialog"}).afterClosed().subscribe(o=>{null!=o&&o.status&&this.dialogRef.close({status:!1})})}submitForm(){this.loading=!0,this.notifyUsersService.saveNotifyUsers({name:this.rForm.controls.name.value,email:this.rForm.controls.email.value,company:this.rForm.controls.company.value}).subscribe(e=>{e.status&&(this.msgHandelService.showSuccessMsg("","Successfully subscribed email notification service"),this.dialogRef.close({status:!0})),this.loading=!1},e=>{this.loading=!1,this.msgHandelService.handleError(e)})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(p.CP),t.rXU(p.Vh),t.rXU(p.bZ),t.rXU(r.Z),t.rXU(a.ok),t.rXU(E.D))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-user-subsctibe-model"]],decls:29,vars:6,consts:[[1,"display-flex","mb-3","mr-4","mt-3"],["aria-hidden","true","data-toggle","tooltip","data-placement","top","title","Close",1,"fa","fa-times","ml-auto","font-1-4","cursor-pointer",3,"click"],[1,"font-1-6","header-title","text-center","mb-4"],[1,"font-1","mb-4","pl-4","pr-4"],[1,"form-wrapper"],["role","form",1,"m-t-30",3,"formGroup","ngSubmit"],[1,""],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","placeholder","Enter Email","type","text","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Enter Email","type","text","formControlName","email"],["matInput","","placeholder","Enter company name","type","text","formControlName","company"],[1,"d-flex","w-100"],["type","submit","mat-flat-button","","color","primary",1,"w-100",3,"disabled"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"i",1),t.bIt("click",function(){return n.closeModel()}),t.k0s()(),t.j41(2,"h1",2),t.EFF(3," Subscribe to Notifications\n"),t.k0s(),t.j41(4,"div",3)(5,"div",4)(6,"form",5),t.bIt("ngSubmit",function(){return n.submitForm()}),t.j41(7,"div",6)(8,"mat-label",7),t.EFF(9,"Name"),t.k0s(),t.j41(10,"mat-form-field",8),t.nrm(11,"input",9),t.DNE(12,C,2,0,"mat-error",10),t.k0s()(),t.j41(13,"div",6)(14,"mat-label",7),t.EFF(15,"Email"),t.k0s(),t.j41(16,"mat-form-field",8),t.nrm(17,"input",11),t.DNE(18,I,2,0,"mat-error",10),t.k0s()(),t.j41(19,"div",6)(20,"mat-label",7),t.EFF(21,"company Name"),t.k0s(),t.j41(22,"mat-form-field",8),t.nrm(23,"input",12),t.DNE(24,j,2,0,"mat-error",10),t.k0s()(),t.j41(25,"div",13)(26,"button",14),t.EFF(27," Subscribe "),t.k0s()()()()(),t.DNE(28,M,1,0,"app-loader",10)),2&o&&(t.R7$(6),t.Y8G("formGroup",n.rForm),t.R7$(6),t.Y8G("ngIf",!n.rForm.controls.name.valid&&n.rForm.controls.name.touched),t.R7$(6),t.Y8G("ngIf",!n.rForm.controls.email.valid&&n.rForm.controls.email.touched),t.R7$(6),t.Y8G("ngIf",!n.rForm.controls.company.valid&&n.rForm.controls.company.touched),t.R7$(2),t.Y8G("disabled",!n.rForm.valid),t.R7$(2),t.Y8G("ngIf",n.loading))},dependencies:[l.bT,S.V,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,v.rl,v.nJ,v.TL,U.fg,y.$z]})}}return i})();var R=s(6169),g=s(643),D=s(3651);function _(i,m){if(1&i&&(t.j41(0,"h6",21),t.EFF(1),t.nI1(2,"truncateText"),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.i5U(2,1,null==e?null:e.name,7)," ")}}function k(i,m){1&i&&(t.j41(0,"h6",21),t.EFF(1," - "),t.k0s())}function $(i,m){if(1&i&&(t.j41(0,"tr")(1,"td")(2,"div",7)(3,"div",13)(4,"h6",21),t.EFF(5),t.nI1(6,"date"),t.k0s()()()(),t.j41(7,"td")(8,"div",7)(9,"div",13),t.DNE(10,_,3,4,"h6",22),t.DNE(11,k,2,0,"h6",22),t.k0s()()(),t.j41(12,"td")(13,"div",7)(14,"div",13)(15,"h6",21),t.EFF(16),t.k0s()()()(),t.j41(17,"td")(18,"div",7)(19,"div",13)(20,"h6",21),t.EFF(21),t.k0s()()()()()),2&i){const e=m.$implicit;t.R7$(5),t.SpI(" ",t.i5U(6,5,null==e?null:e.created_at,"dd/MM/yy HH:mm:ss")," "),t.R7$(5),t.Y8G("ngIf",null==e?null:e.name),t.R7$(1),t.Y8G("ngIf",!(null!=e&&e.name)),t.R7$(5),t.SpI(" ",null!=e&&e.email?null==e?null:e.email:"-"," "),t.R7$(5),t.SpI(" ",null!=e&&e.company?null==e?null:e.company:"-"," ")}}function N(i,m){if(1&i&&(t.j41(0,"div",17)(1,"table",18)(2,"thead")(3,"tr")(4,"th",19),t.EFF(5,"Time"),t.k0s(),t.j41(6,"th",19),t.EFF(7,"name"),t.k0s(),t.j41(8,"th",19),t.EFF(9,"Email"),t.k0s(),t.j41(10,"th",19),t.EFF(11,"company"),t.k0s()()(),t.j41(12,"tbody"),t.DNE(13,$,22,8,"tr",20),t.k0s()()()),2&i){const e=t.XpG(2);t.R7$(13),t.Y8G("ngForOf",e.dataList)}}function w(i,m){1&i&&(t.j41(0,"div",23),t.nrm(1,"i",24),t.j41(2,"div",25),t.EFF(3,"No Data"),t.k0s()())}function G(i,m){if(1&i&&(t.j41(0,"div",10)(1,"mat-card",11)(2,"mat-card-content",12)(3,"div",13)(4,"div",0)(5,"div",14)(6,"mat-card-title"),t.EFF(7,"Subscribed Users"),t.k0s()()()(),t.DNE(8,N,14,1,"div",15),t.DNE(9,w,4,0,"div",16),t.k0s()()()),2&i){const e=t.XpG();t.R7$(8),t.Y8G("ngIf",null==e.dataList?null:e.dataList.length),t.R7$(1),t.Y8G("ngIf",!(null!=e.dataList&&e.dataList.length))}}function x(i,m){1&i&&t.nrm(0,"app-loader")}const P=[{path:"",children:[{path:"",component:(()=>{class i{constructor(e,o,n){this.reportsService=e,this.msgHandelService=o,this.dialog=n,this.isFirstTime=!0,this.perPage=c.k.PER_PAGE,this.pageNo=c.k.PAGE_NO,this.loading=!1,this.dataList=[],this.totalItems=0}ngOnInit(){this.getAll()}copyToClipBoard(e,o){}onPageChanged(e){}getAll(){this.loading=!0,this.reportsService.getAllNotifiedUsers("limit=10&page=1&column=0&order=desc").subscribe(e=>{this.loading=!1,this.dataList=e?.data?.records,this.totalItems=e?.data?.recordsTotal},e=>{this.loading=!1,this.msgHandelService.handleError(e)})}search(){}reset(){}openSubscriptionModel(){this.dialog.open(T,{width:"515px",maxHeight:"85vh",autoFocus:!1,disableClose:!0,data:{}}).afterClosed().subscribe(o=>{o?.status&&this.getAll()})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(R.P),t.rXU(E.D),t.rXU(p.bZ))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-subscribed-users-view"]],decls:12,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"row","col-12","d-flex","m-0"],["class","col-lg-12 mt-30",4,"ngIf"],[4,"ngIf"],[1,"bottom-fixed","d-flex","mb-2","mr-2","w-100"],["type","submit","mat-flat-button","","color","primary",1,"w-auto","ml-auto","border-radius-10",3,"click"],[1,"d-flex","align-items-center"],[1,"fa-bell","far","font-1"],[1,"ml-1"],[1,"col-lg-12","mt-30"],[1,"cardWithShadow"],[1,"p-24"],[1,""],[1,"col-7"],["class","table-responsive mt-4",4,"ngIf"],["class","no-data-comp",4,"ngIf"],[1,"table-responsive","mt-4"],[1,"w-100","table-borderless","mt-3"],[1,"mat-subtitle-1"],[4,"ngFor","ngForOf"],[1,"mat-subtitle-1","f-s-14","f-w-700"],["class","mat-subtitle-1 f-s-14 f-w-700",4,"ngIf"],[1,"no-data-comp"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mb-1","font-2-8","text-grey"],[1,"font-weight-bold","text-grey"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2),t.DNE(4,G,10,2,"div",3),t.k0s()()(),t.DNE(5,x,1,0,"app-loader",4),t.j41(6,"div",5)(7,"button",6),t.bIt("click",function(){return n.openSubscriptionModel()}),t.j41(8,"div",7),t.nrm(9,"i",8),t.j41(10,"div",9),t.EFF(11,"Subscribe"),t.k0s()()()()()),2&o&&(t.R7$(4),t.Y8G("ngIf",!0),t.R7$(1),t.Y8G("ngIf",n.loading))},dependencies:[l.Sq,l.bT,S.V,g.RN,g.m2,g.dh,y.$z,l.vh,D._]})}}return i})()}]}];let V=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(P),u.iI]})}}return i})();var A=s(1626);let O=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[l.MD,A.G,V]})}}return i})()},6169:(b,f,s)=>{s.d(f,{P:()=>p});var l=s(3527),u=s(4526),c=s(2978),a=s(3664);let p=(()=>{class d{constructor(t){this._MainService=t}getAllAnalysis(t){return this._MainService.get(`data?${t}`).pipe((0,l.T)(r=>r),(0,u.W)(r=>{throw r}))}getAllReportData(t){return this._MainService.get(`data/get-report-data?${t}`).pipe((0,l.T)(r=>r),(0,u.W)(r=>{throw r}))}getAllSendedNotifications(t){return this._MainService.get(`sended-notifications?${t}`).pipe((0,l.T)(r=>r),(0,u.W)(r=>{throw r}))}getAllNotifiedUsers(t){return this._MainService.get(`notify-users?${t}`).pipe((0,l.T)(r=>r),(0,u.W)(r=>{throw r}))}static{this.\u0275fac=function(r){return new(r||d)(c.KVO(a.t))}}static{this.\u0275prov=c.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},6864:(b,f,s)=>{s.d(f,{V:()=>u});var l=s(2978);let u=(()=>{class c{static{this.\u0275fac=function(d){return new(d||c)}}static{this.\u0275cmp=l.VBU({type:c,selectors:[["app-loader"]],decls:3,vars:0,consts:[[1,"overlay"],[1,"overlay__inner"],["src","assets/images/loader.gif","alt","",1,"loader-img"]],template:function(d,F){1&d&&(l.j41(0,"div",0)(1,"div",1),l.nrm(2,"img",2),l.k0s()())},styles:[".loader-img[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);text-align:center;width:8rem}"]})}}return c})()}}]);